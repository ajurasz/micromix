subprojects {
    // Maven compatibility
    apply plugin: 'maven'
    group = 'com.github.micromix'
    version = '0.0-SNAPSHOT'

    repositories {
        mavenCentral()
    }

    ext {
        camelVersion = '2.12.3'
        camelSpring = "org.apache.camel:camel-spring:$camelVersion"
        scalaLibrary = 'org.scala-lang:scala-library:2.10.3'
    }
}

project('micromix-boots') {
    project('micromix-boot-spring') {
        apply plugin: 'scala'

        dependencies {
            compile scalaLibrary
            compile 'org.springframework:spring-context:3.2.5.RELEASE'
            compile 'com.google.guava:guava:16.0.1'

            testCompile 'junit:junit:4.11'
        }
    }
}

project('micromix-conflets') {
    project('micromix-conflet-camel') {
        project('micromix-conflet-camel-spring') {
            apply plugin: 'scala'

            dependencies {
                compile scalaLibrary
                compile camelSpring

                testCompile project(':micromix-boots:micromix-boot-spring')

                testCompile 'junit:junit:4.11'
                testCompile 'org.scalatest:scalatest_2.10:2.0'
                testCompile 'ch.qos.logback:logback-classic:1.0.13'
            }
        }
    }

    project('micromix-conflet-restgateway') {
        project('micromix-conflet-restgateway-spring') {
            apply plugin: 'scala'

            dependencies {
                compile scalaLibrary
                compile 'org.springframework:spring-context:3.2.5.RELEASE'
                compile 'org.apache.camel:camel-netty-http:2.12.3'
                compile camelSpring
                compile 'org.apache.camel:camel-jackson:2.12.3'

                testCompile project(':micromix-boots:micromix-boot-spring')
                testCompile project(':micromix-conflets:micromix-conflet-camel:micromix-conflet-camel-spring')

                testCompile 'junit:junit:4.11'
                testCompile 'org.scalatest:scalatest_2.10:2.0'
                testCompile 'ch.qos.logback:logback-classic:1.0.13'
            }
        }
    }
}